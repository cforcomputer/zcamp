@tailwind base;
@tailwind components;
@tailwind utilities;

/* Loading state to prevent FOUC */
:root {
  visibility: hidden;
}

:root.loaded {
  visibility: visible;
}

@layer base {
  body {
    @apply bg-eve-primary text-gray-200;
    background-image: url('/bg.jpg');
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
  }

  /* Ensure fonts are preloaded */
  @font-face {
    font-display: swap;
  }
}

@layer components {
  .eve-card {
    @apply bg-eve-card backdrop-blur-md rounded-lg border border-eve-accent/20 p-4 shadow-lg;
  }
  
  .eve-button {
    @apply px-4 py-2 bg-eve-accent/20 hover:bg-eve-accent/30 text-eve-accent
           rounded border border-eve-accent/40 transition-all duration-200
           hover:border-eve-accent/60 focus:outline-none focus:ring-2
           focus:ring-eve-accent/50;
  }
  
  .eve-input {
    @apply bg-eve-dark/50 border border-eve-accent/20 rounded px-3 py-2
           text-gray-200 focus:outline-none focus:ring-2 focus:ring-eve-accent/50
           placeholder-gray-500;
  }
  
  .eve-select {
    @apply eve-input appearance-none bg-no-repeat bg-right pr-8;
  }
  
  .eve-nav-item {
    @apply px-4 py-2 rounded-md transition-all duration-200
           hover:bg-eve-accent/20 text-gray-300 hover:text-eve-accent;
  }

  /* Welcome overlay styles */
  .welcome-overlay {
    @apply fixed inset-0 bg-black/80 backdrop-blur-md z-50 
           flex items-center justify-center opacity-0 transition-opacity duration-300;
  }

  .welcome-overlay.visible {
    @apply opacity-100;
  }

  .welcome-content {
    @apply max-w-2xl w-full mx-4 bg-eve-dark/95 rounded-lg shadow-2xl 
           border border-eve-accent/20 p-8 transform scale-95 
           transition-transform duration-300;
  }

  .welcome-content.visible {
    @apply scale-100;
  }
}

/* Loading spinner for transitions */
@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.loading-spinner {
  @apply w-8 h-8 border-4 border-eve-accent/20 border-t-eve-accent rounded-full;
  animation: spin 1s linear infinite;
}

/* Ensure smooth transitions */
* {
  @apply transition-colors duration-200;
}

/* Prevent layout shifts */
html {
  @apply overflow-y-scroll;
}

/* Ensure background image loads smoothly */
body::before {
  content: '';
  @apply fixed inset-0 bg-eve-primary -z-10;
}

/* Custom scrollbar */
::-webkit-scrollbar {
  @apply w-2;
}

::-webkit-scrollbar-track {
  @apply bg-eve-dark/50;
}

::-webkit-scrollbar-thumb {
  @apply bg-eve-accent/30 rounded hover:bg-eve-accent/40;
}

/* Focus styles for accessibility */
:focus-visible {
  @apply outline-none ring-2 ring-eve-accent/50;
}